<div class="auction-detail container">
  <div class="d-flex justify-content-between align-items-center flex-wrap mb-3">
    <div>
      <h2 class="mb-0">اسم المزاد</h2>
      <p class="mb-0 text-muted">عنوان المزاد</p>
    </div>
    <div class="text-end mt-2 mt-md-0">
      <i class="bi bi-car-front-fill text-primary me-1"></i> اسم السيارة
    </div>
  </div>

  <div class="mb-3 text-start">
    <button routerLink="/auctions-catalog" class="btn btn-outline-danger btn-sm px-3">انسحاب</button>
  </div>

  <div [ngClass]="{'timer-bar': true, 'ended': isTimerEnded}">
    {{minutes}}:{{seconds | number:'2.0'}}
  </div>

  <div class="alert alert-secondary text-center mt-3">عرض آخر</div>

  <div class="d-flex justify-content-between bg-light p-3 rounded mb-3 flex-wrap">
    <div><i class="bi bi-people-fill me-2 text-primary"></i> المشاركين <span class="fw-bold ms-2">28</span></div>
    <div><i class="bi bi-person-fill text-primary"></i> <i class="bi bi-person-fill text-primary"></i> <i class="bi bi-person-fill text-primary"></i> +5</div>
  </div>

  <div class="row g-2 mb-3">
    <div class="col-6">
      <div class="p-3 bg-light rounded text-center">
        <i class="bi bi-cash-coin text-success"></i> اخر مزايدة
        <div class="fw-bold text-primary mt-2">{{lastBid}}</div>
      </div>
    </div>
    <div class="col-6">
      <div class="p-3 bg-light rounded text-center">
        <i class="bi bi-graph-up-arrow text-success"></i> مزايداتك الاخيرة
        <div class="fw-bold text-primary mt-2">{{yourBid}}</div>
      </div>
    </div>
  </div>

  <div class="d-flex justify-content-between align-items-center bg-light p-3 rounded mb-3 counter-box">
    <button (click)="decrement()" class="btn btn-primary btn-sm">-</button>
    <div class="bid-number">
      <div class="fw-bold fs-4">{{currentBid}}</div>
      <div class="currency">الريال السعودي</div>
    </div>
    <button (click)="increment()" class="btn btn-primary btn-sm">+</button>
  </div>

  <button (click)="openConfirm()" class="btn btn-success w-100 mb-4">مزايدة</button>

  <h4>خطوات المزايدة</h4>
  <div class="row g-2 mb-4">
    <div class="col-6 col-md-4 col-lg-2" *ngFor="let step of steps">
      <div class="step-box">
        <div class="step-number">{{step.number}}</div>
        <i class="bi {{step.icon}} step-icon"></i>
        <div class="step-title">{{step.title}}</div>
      </div>
    </div>
  </div>

  <h4>بيانات المركبة</h4>
  <div class="row g-2 mb-4">
    <div class="col-6 col-md-4" *ngFor="let info of carInfo">
      <div class="info-box">
        <i class="bi {{info.icon}}"></i> {{info.label}}
      </div>
    </div>
  </div>

  <h4>التقارير</h4>
  <div class="row g-2 mb-3">
    <div class="col-md-4" *ngFor="let report of reports">
      <div class="report-box">
        <div class="report-header">
          <span>{{report.title}}</span>
          <span>تقرير</span>
        </div>
        <div class="report-desc">{{report.desc}}</div>
      </div>
    </div>
  </div>

  <div class="d-flex justify-content-between fw-bold mb-3">
    <span>المبلغ الإجمالي</span>
    <span>1500 ريال</span>
  </div>

  <button class="btn btn-dark w-100">احصل على التقرير</button>

  <div class="modal-overlay" *ngIf="showConfirm">
    <div class="modal-content">
      <app-bid-confirmation
        [amount]="currentBid"
        (confirm)="placeBid()"
        (cancel)="closeConfirm()"
        (dontShowAgain)="disablePopup()">
      </app-bid-confirmation>
    </div>
  </div>
</div>
